<div>
	<h3 class="text-dark m-2 text-center">{{ pageTitle }}</h3>
	<div *ngIf="!isMobile">
		<form
			[formGroup]="contactForm"
			class="border border-1 p-5 rounded"
			style="background-color: rgb(233, 233, 233)"
		>
			<div class="container-fluid">
				<div class="row">
					<mat-form-field class="col col-sm-3" mat-theme="custom">
						<mat-label matLabel>{{ labels.name }}</mat-label>
						<input matInput formControlName="name" />
					</mat-form-field>

					<mat-form-field class="col col-sm-4 float-right">
						<mat-label matLabel>{{ labels.email }}</mat-label>
						<input matInput formControlName="email" />
						<small
							style="text-danger"
							*ngIf="contactForm.get('email')?.errors?.['email']"
							>{{ labels.emailError }}</small
						>
					</mat-form-field>

					<mat-form-field class="col col-sm-4 float-right">
						<mat-label matLabel>{{
							labels.contactNumber
						}}</mat-label>
						<input
							matInput
							type="tel"
							formControlName="contact_number"
						/>
						<small
							style="text-danger"
							*ngIf="contactForm.get('contact_number')?.errors"
							>{{ labels.contactNumberError }}</small
						>
					</mat-form-field>
				</div>
				<div class="row mt-1">
					<mat-form-field>
						<mat-label matLabel class="col-lg-5">{{
							labels.projectDescription
						}}</mat-label>
						<textarea
							matInput
							formControlName="project_description"
						></textarea>
					</mat-form-field>
				</div>
				<div *ngIf="showDatePicker" class="row mt-1" id="datepicker">
					<mat-form-field class="col col-sm-3" appearance="fill">
						<mat-label>{{ labels.chooseDate }}</mat-label>
						<input
							matInput
							formControlName="contact_back_Date"
							[matDatepickerFilter]="myFilter"
							[matDatepicker]="picker"
						/>
						<mat-hint>{{ labels.dateHint }}</mat-hint>
						<mat-datepicker-toggle
							matSuffix
							[for]="picker"
						></mat-datepicker-toggle>
						<mat-datepicker #picker></mat-datepicker>
					</mat-form-field>
					<mat-form-field class="col col-sm-3" appearance="fill">
						<mat-label>Callback Time (EST)</mat-label>
						<mat-select formControlName="callback_time">
							<mat-option
								*ngFor="let slot of timeSlots"
								[value]="slot"
								>{{ slot }}</mat-option
							>
						</mat-select>
						<mat-hint>EST</mat-hint>
					</mat-form-field>
					<span class="col col-sm-2 d-flex align-items-center">
						<span class="badge bg-secondary"
							>EST (Eastern Standard Time)</span
						>
					</span>
				</div>

				<div class="row justify-content-md-center">
					<button
						mat-raised-button
						class="col col-md-3 mx-5 bg-info text-light"
						(click)="toggleDatePicker()"
					>
						{{ labels.chooseCallBackDate }}
					</button>

					<button
						mat-raised-button
						type="reset"
						class="col col-md-1 mx-5 bg-danger text-light"
						(click)="resetForm()"
					>
						{{ labels.resetButton }}
					</button>

					<button
						mat-raised-button
						type="submit"
						class="col col-md-1 mx-5 bg-primary text-light"
						(click)="submitrequest()"
						[disabled]="contactForm.invalid"
					>
						{{ labels.submitButton }}
					</button>
				</div>

				<div
					*ngIf="submitSuccess"
					class="alert alert-success mt-3 text-center"
					role="alert"
				>
					Thank you! Your message has been sent. We will get back to
					you shortly.
				</div>
				<div
					*ngIf="submitError"
					class="alert alert-danger mt-3 text-center"
					role="alert"
				>
					Sorry, something went wrong. Please try again or email us
					directly at
					<a href="mailto:contact@cloudcompliant.solutions"
						>contact@cloudcompliant.solutions</a
					>
				</div>
			</div>
		</form>
	</div>

	<!--Mobile Website-->
	<div *ngIf="isMobile">
		<form
			[formGroup]="contactForm"
			class="p-4 mat-elevation-z4"
			style="
				max-height: 95vh;
				background-color: rgb(233, 233, 233);
				border-radius: 25px;
			"
		>
			<!--Holds rest of the input fields-->
			<div class="container-fluid text-center">
				<div class="row text-center">
					<mat-form-field class="row">
						<mat-label matLabel>{{ labels.name }}</mat-label>
						<input matInput formControlName="name" />
					</mat-form-field>

					<mat-form-field class="row">
						<mat-label matLabel>{{ labels.email }}</mat-label>
						<input matInput formControlName="email" />
						<small
							style="text-danger"
							*ngIf="contactForm.get('email')?.errors?.['email']"
							>{{ labels.emailError }}</small
						>
					</mat-form-field>

					<mat-form-field class="row">
						<mat-label matLabel>{{
							labels.contactNumber
						}}</mat-label>
						<input
							matInput
							type="tel"
							formControlName="contact_number"
						/>
						<small
							style="text-danger"
							*ngIf="contactForm.get('contact_number')?.errors"
							>{{ labels.contactNumberError }}</small
						>
					</mat-form-field>

					<mat-form-field class="row">
						<mat-label matLabel>{{
							labels.projectDescription
						}}</mat-label>
						<textarea
							matInput
							formControlName="project_description"
						></textarea>
					</mat-form-field>
				</div>
				<div *ngIf="showDatePicker" class="row mt-1" id="datepicker">
					<mat-form-field class="row" appearance="fill">
						<mat-label>{{ labels.chooseDate }}</mat-label>
						<input
							matInput
							formControlName="contact_back_Date"
							[matDatepickerFilter]="myFilter"
							[matDatepicker]="picker"
						/>
						<mat-hint>{{ labels.dateHint }}</mat-hint>
						<mat-datepicker-toggle
							matSuffix
							[for]="picker"
						></mat-datepicker-toggle>
						<mat-datepicker #picker></mat-datepicker>
					</mat-form-field>
					<mat-form-field class="row" appearance="fill">
						<mat-label>Callback Time (EST)</mat-label>
						<mat-select formControlName="callback_time">
							<mat-option
								*ngFor="let slot of timeSlots"
								[value]="slot"
								>{{ slot }}</mat-option
							>
						</mat-select>
						<mat-hint>EST</mat-hint>
					</mat-form-field>
					<span class="badge bg-secondary mt-1"
						>EST (Eastern Standard Time)</span
					>
				</div>
				<div class="row">
					<div class="row lg-3 justify-content-md-center">
						<button
							mat-raised-button
							class="row-md-2 bg-info text-light"
							(click)="toggleDatePicker()"
						>
							{{ labels.chooseCallBackMobile }}
						</button>
					</div>
					<div class="row text-center">
						<div class="col mt-3 justify-content-md-center">
							<button
								mat-raised-button
								class="bg-danger text-light"
								type="reset"
								(click)="resetForm()"
							>
								{{ labels.resetButton }}
							</button>
						</div>
						<div class="col mt-3 justify-content-md-center">
							<button
								mat-raised-button
								class="bg-primary text-light"
								type="submit"
								(click)="submitrequest()"
								[disabled]="contactForm.invalid"
							>
								{{ labels.submitButton }}
							</button>
						</div>
					</div>

					<div
						*ngIf="submitSuccess"
						class="alert alert-success mt-3 text-center"
						role="alert"
					>
						Thank you! Your message has been sent.
					</div>
					<div
						*ngIf="submitError"
						class="alert alert-danger mt-3 text-center"
						role="alert"
					>
						Sorry, something went wrong. Please email us at
						<a href="mailto:contact@cloudcompliant.solutions"
							>contact@cloudcompliant.solutions</a
						>
					</div>
				</div>
			</div>
		</form>
	</div>
</div>
