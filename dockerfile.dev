FROM node:22-slim

WORKDIR /app

# Copy package.json and install dependencies
COPY package*.json ./
RUN npm install -g @angular/cli@21
RUN npm install --legacy-peer-deps

# Source code will be mounted as a volume â€” not copied
# This enables hot reload when files change on the host

EXPOSE 4200

# Run Angular dev server with live reload, accessible from outside the container
CMD ["ng", "serve", "--host", "0.0.0.0", "--poll", "2000"]
